<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CryptoStat Tracker</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
	.ad-safe-top{
  width:100%;
  min-height:60px;   /* ارتفاع آمن */
  display:flex;
  align-items:center;
  justify-content:center;
   /* اختياري */
  overflow:hidden;
}
/* RESET */
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Segoe UI',Arial,sans-serif;display:flex;flex-direction:column;min-height:100vh;}

/* BACKGROUND GRADIENT */
body{
  background: linear-gradient(135deg,#1f1c2c,#928dab);
  color:white;
}

/* HEADER */
header{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:30px 20px;
  background:rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
  border-bottom:2px solid rgba(255,255,255,0.2);
}
header h1{
  font-size:3rem;
  font-weight:900;
  text-align:center;
  background: linear-gradient(90deg,#ff6a00,#ee0979,#00f260);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:20px;
}

/* NAVIGATION BUTTONS */
nav{
  display:flex;
  flex-wrap:nowrap;
  gap:10px;
  width:100%;
  max-width:800px;
}
nav a{
  padding:10px 18px;
  font-weight:600;
  border-radius:8px;
  transition:0.3s;
  background:rgba(255,255,255,0.1);
  color:white;
  white-space:nowrap;
  text-align:center;
  flex:1;
}
nav a:hover, nav a.active{
  background: linear-gradient(90deg,#ff6a00,#ee0979,#00f260);
  color:white;
  transform:scale(1.05);
}

/* MAIN CONTENT */
main{
  flex:1;
  padding:30px 20px;
}

/* SECTION HEADINGS */
h2{
  font-size:2rem;
  margin-bottom:20px;
  text-align:center;
  background: linear-gradient(90deg,#ff6a00,#ee0979,#00f260);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* COINS GRID */
.coins-grid{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
}
.coin-card{
  background: linear-gradient(135deg,#4b0075,#6a0dad);
  padding:20px;
  border-radius:15px;
  display:flex;
  align-items:center;
  transition:0.3s;
  cursor:pointer;
}
.coin-card:hover{
  transform:scale(1.05);
  box-shadow:0 8px 20px rgba(0,0,0,0.4);
}
.coin-card img{
  width:50px;
  height:50px;
  margin-right:15px;
  border-radius:50%;
  border:2px solid white;
}
.coin-info{
  flex:1;
}
.coin-name{font-weight:bold;font-size:1.1rem;}
.coin-price{margin-top:5px;font-size:0.95rem;}
.coin-change{font-weight:bold;font-size:0.95rem;}
.positive{color:#00ffab;}
.negative{color:#ff4d6d;}

/* CHART CONTAINERS */
.chart-container{
  background: linear-gradient(135deg,#1f1c2c,#4b0075);
  padding:20px;
  border-radius:15px;
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  margin-bottom:30px;
}

/* FOOTER */
footer{
  text-align:center;
  padding:20px;
  background:rgba(0,0,0,0.3);
  border-top:2px solid rgba(255,255,255,0.2);
}

/* RESPONSIVE */
@media(max-width:768px){
  header h1{font-size:2.2rem;}
  nav a{font-size:0.85rem;padding:8px 10px;}
  h2{font-size:1.5rem;}
}
@media(max-width:480px){
  header h1{font-size:1.8rem;}
  nav{flex-direction:column;gap:8px;}
  nav a{flex:100%;}
}
.hidden{display:none;}
</style>
</head>
<body>

<header>
  <h1>CryptoStat Tracker</h1>
	<div class="ad-safe-top">
	</div>
  <nav>
    <a href="#" class="nav-link active" data-target="homePage">Home</a>
    <a href="#" class="nav-link" data-target="topCoinsPage">Top Coins</a>
    <a href="#" class="nav-link" data-target="marketStatsPage">Market Stats</a>
    <a href="#" class="nav-link" data-target="coinExplorerPage">Coin Explorer</a>
  </nav>
</header>

<main>
  <!-- HOME -->
  <section id="homePage">
    <h2>Welcome to CryptoStat Tracker</h2>
    <div class="coins-grid" id="homeTop5"></div>
  </section>

  <!-- TOP COINS -->
  <section id="topCoinsPage" class="hidden">
    <h2>Top 20 Cryptocurrencies</h2>
    <div class="coins-grid" id="coinsGridTop"></div>
  </section>

  <!-- MARKET STATS -->
  <section id="marketStatsPage" class="hidden">
    <h2>Market Stats</h2>
    <div class="chart-container"><canvas id="marketChart"></canvas></div>
    <div class="chart-container"><canvas id="dominanceChart"></canvas></div>
  </section>

  <!-- COIN EXPLORER -->
  <section id="coinExplorerPage" class="hidden">
    <h2>Coin Explorer</h2>
    <div class="coins-grid" id="coinsGridExplorer"></div>
  </section>
</main>

<footer>
&copy; 2026 CryptoStat Tracker | Made with ❤️
</footer>

<script>
// NAVIGATION
const links=document.querySelectorAll('.nav-link');
const sections=document.querySelectorAll('main section');
links.forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    links.forEach(l=>l.classList.remove('active'));
    link.classList.add('active');
    sections.forEach(s=>s.classList.add('hidden'));
    document.getElementById(link.dataset.target).classList.remove('hidden');
  });
});

// FETCH COINS
let coinsData=[];
async function fetchCoins(){
  const url='https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=20&page=1&sparkline=false';
  try{
    const response=await fetch(url);
    coinsData=await response.json();
    displayTopCoins();
    displayExplorer();
    displayHomeTop5();
    displayMarketChart();
  }catch(err){console.error(err);}
}

// DISPLAY FUNCTIONS
function displayTopCoins(){
  const grid=document.getElementById('coinsGridTop'); grid.innerHTML='';
  coinsData.forEach(c=>{
    const change=c.price_change_percentage_24h.toFixed(2);
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name} (${c.symbol.toUpperCase()})</div><div class="coin-price">Price: $${c.current_price}</div></div><div class="coin-change ${change>=0?'positive':'negative'}">${change}%</div>`;
    grid.appendChild(card);
  });
}

function displayExplorer(){
  const grid=document.getElementById('coinsGridExplorer'); grid.innerHTML='';
  coinsData.forEach(c=>{
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name}</div><div class="coin-price">Price: $${c.current_price}</div></div>`;
    grid.appendChild(card);
  });
}

function displayHomeTop5(){
  const grid=document.getElementById('homeTop5'); grid.innerHTML='';
  const top5=coinsData.slice(0,5);
  top5.forEach(c=>{
    const change=c.price_change_percentage_24h.toFixed(2);
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name}</div><div class="coin-price">Price: $${c.current_price}</div></div><div class="coin-change ${change>=0?'positive':'negative'}">${change}%</div>`;
    grid.appendChild(card);
  });
}

// MARKET CHARTS
let marketChart,dominanceChart;
function displayMarketChart(){
  const ctx=document.getElementById('marketChart').getContext('2d');
  const labels=coinsData.map(c=>c.symbol.toUpperCase());
  const data=coinsData.map(c=>c.market_cap);
  if(marketChart) marketChart.destroy();
  marketChart=new Chart(ctx,{type:'bar',data:{labels,datasets:[{label:'Market Cap USD',data,backgroundColor:'rgba(255,106,0,0.7)'}]},options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}});
  
  const ctx2=document.getElementById('dominanceChart').getContext('2d');
  const btc=coinsData[0].market_cap_percentage||65;
  const others=100-btc;
  if(dominanceChart) dominanceChart.destroy();
  dominanceChart=new Chart(ctx2,{type:'pie',data:{labels:['BTC','Others'],datasets:[{data:[btc,others],backgroundColor:['#ff6a00','#ee0979']}]},options:{responsive:true}});
}

// INITIAL FETCH
fetchCoins();
setInterval(fetchCoins,30000);
</script>
  
</body>
</html>
