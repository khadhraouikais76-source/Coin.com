<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CryptoStat Tracker Ultra Pro+</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  .ad-safe-top{
  width:100%;
  min-height:60px;   /* ÿßÿ±ÿ™ŸÅÿßÿπ ÿ¢ŸÖŸÜ */
  display:flex;
  align-items:center;
  justify-content:center;
   /* ÿßÿÆÿ™Ÿäÿßÿ±Ÿä */
  overflow:hidden;
}
/* RESET */
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Segoe UI',Arial,sans-serif;display:flex;flex-direction:column;min-height:100vh;}

/* BACKGROUND */
body{
  background: linear-gradient(135deg,#1f1c2c,#928dab);
  color:white;
}

/* HEADER */
header{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:30px 20px;
  background:rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
  border-bottom:2px solid rgba(255,255,255,0.2);
}
header h1{
  font-size:3rem;
  font-weight:900;
  text-align:center;
  background: linear-gradient(90deg,#ff6a00,#ee0979,#00f260);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin-bottom:20px;
}

/* NAVIGATION BUTTONS */
nav{
  display:flex;
  flex-wrap:nowrap;
  gap:10px;
  width:100%;
  max-width:800px;
}
nav a{
  padding:10px 18px;
  font-weight:600;
  border-radius:8px;
  transition:0.3s;
  background:rgba(255,255,255,0.1);
  color:white;
  white-space:nowrap;
  text-align:center;
  flex:1;
}
nav a:hover, nav a.active{
  background: linear-gradient(90deg,#ff6a00,#ee0979,#00f260);
  color:white;
  transform:scale(1.05);
}

/* MAIN CONTENT */
main{
  flex:1;
  padding:30px 20px;
}

/* SECTION HEADINGS */
h2{
  font-size:2rem;
  margin-bottom:20px;
  text-align:center;
  background: linear-gradient(90deg,#ff6a00,#ee0979,#00f260);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* COINS GRID */
.coins-grid{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
}
.coin-card{
  background: linear-gradient(135deg,#4b0075,#6a0dad);
  padding:20px;
  border-radius:15px;
  display:flex;
  flex-direction:column;
  align-items:flex-start;
  transition:0.3s;
  cursor:pointer;
}
.coin-card:hover{
  transform:scale(1.05);
  box-shadow:0 8px 20px rgba(0,0,0,0.4);
}
.coin-card img{
  width:50px;
  height:50px;
  margin-right:15px;
  border-radius:50%;
  border:2px solid white;
}
.coin-info{
  flex:1;
}
.coin-name{font-weight:bold;font-size:1.1rem;}
.coin-price{margin-top:5px;font-size:0.95rem;}
.coin-change{font-weight:bold;font-size:0.95rem;}
.positive{color:#00ffab;}
.negative{color:#ff4d6d;}

/* DYNAMIC NOTES */
.dynamic-note{margin-top:4px;font-size:0.8rem;color:#fff;}

/* CHART CONTAINERS */
.chart-container{
  background: linear-gradient(135deg,#1f1c2c,#4b0075);
  padding:20px;
  border-radius:15px;
  box-shadow:0 4px 15px rgba(0,0,0,0.5);
  margin-bottom:30px;
}

/* SEARCH BAR */
#coinSearchInput{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:none;
  font-size:1rem;
  margin-bottom:10px;
}

/* FOOTER */
footer{
  text-align:center;
  padding:20px;
  background:rgba(0,0,0,0.3);
  border-top:2px solid rgba(255,255,255,0.2);
}

/* RESPONSIVE */
@media(max-width:768px){
  header h1{font-size:2.2rem;}
  nav a{font-size:0.85rem;padding:8px 10px;}
  h2{font-size:1.5rem;}
}
@media(max-width:480px){
  header h1{font-size:1.8rem;}
  nav{flex-direction:column;gap:8px;}
  nav a{flex:100%;}
}
.hidden{display:none;}
</style>
</head>
<body>

<header>
  <h1>CryptoStat Tracker </h1>
  
	<div class="ad-safe-top">
	</div>
  <nav>
    <a href="#" class="nav-link active" data-target="homePage">Home</a>
    <a href="#" class="nav-link" data-target="topCoinsPage">Top Coins</a>
    <a href="#" class="nav-link" data-target="marketStatsPage">Market Stats</a>
    <a href="#" class="nav-link" data-target="coinExplorerPage">Coin Explorer</a>
  </nav>
</header>

<main>
  <!-- HOME -->
  <section id="homePage">
    <section id="dashboard" style="margin-bottom:20px;">
      <h2>üî• Trending & Alerts Dashboard</h2>
      <div id="dashboardCards" class="coins-grid"></div>
    </section>

    <section id="searchSection" style="margin-bottom:20px;">
      <h2>üîé Search Coins</h2>
      <input type="text" id="coinSearchInput" placeholder="Type coin name or symbol...">
      <div id="searchResults" class="coins-grid"></div>
    </section>

    <h2>Welcome to CryptoStat Tracker</h2>
    <div class="coins-grid" id="homeTop5"></div>
  </section>

  <!-- TOP COINS -->
  <section id="topCoinsPage" class="hidden">
    <h2>Top 20 Cryptocurrencies</h2>
    <div class="coins-grid" id="coinsGridTop"></div>
  </section>

  <!-- MARKET STATS -->
  <section id="marketStatsPage" class="hidden">
    <h2>Market Stats Ultra Pro+</h2>
    
    <!-- KPI CARDS -->
    <div id="marketCards" class="coins-grid" style="margin-bottom:30px;"></div>
    
    <!-- CHARTS -->
    <div class="chart-container"><canvas id="marketCapChart"></canvas></div>
    <div class="chart-container"><canvas id="dominanceChart"></canvas></div>
    <div class="chart-container"><canvas id="gainersChart"></canvas></div>
    <div class="chart-container"><canvas id="losersChart"></canvas></div>
  </section>

  <!-- COIN EXPLORER -->
  <section id="coinExplorerPage" class="hidden">
    <h2>Coin Explorer</h2>
    <div class="coins-grid" id="coinsGridExplorer"></div>
  </section>
</main>

<footer>
&copy; 2026 CryptoStat Tracker Ultra Pro+ | Made with ‚ù§Ô∏è
</footer>

<script>
// =======================
// NAVIGATION
// =======================
const links=document.querySelectorAll('.nav-link');
const sections=document.querySelectorAll('main section');
links.forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    links.forEach(l=>l.classList.remove('active'));
    link.classList.add('active');
    sections.forEach(s=>s.classList.add('hidden'));
    document.getElementById(link.dataset.target).classList.remove('hidden');
  });
});

// =======================
// GLOBAL VARIABLES
// =======================
let coinsData=[];
let marketCapChart, dominanceChart, gainersChart, losersChart;

// =======================
// FETCH COINS & GLOBAL DATA
// =======================
async function fetchCoins(){
  try{
    const coinsRes = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=20&page=1&sparkline=false');
    coinsData = await coinsRes.json();

    const globalRes = await fetch('https://api.coingecko.com/api/v3/global');
    const globalData = await globalRes.json();
    const btcDominance = globalData.data.market_cap_percentage.btc || 65;

    displayTopCoins();
    displayExplorer();
    displayHomeTop5();
    displayDashboard();
    displayMarketStatsRich(btcDominance);

  }catch(err){console.error(err);}
}

// =======================
// DISPLAY FUNCTIONS
// =======================
function displayTopCoins(){
  const grid=document.getElementById('coinsGridTop'); grid.innerHTML='';
  coinsData.forEach(c=>{
    const change=c.price_change_percentage_24h.toFixed(2);
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name} (${c.symbol.toUpperCase()})</div><div class="coin-price">Price: $${c.current_price}</div></div><div class="coin-change ${change>=0?'positive':'negative'}">${change}%</div>`;
    grid.appendChild(card);
  });
}

function displayExplorer(){
  const grid=document.getElementById('coinsGridExplorer'); grid.innerHTML='';
  coinsData.forEach(c=>{
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name}</div><div class="coin-price">Price: $${c.current_price}</div></div>`;
    grid.appendChild(card);
  });
}

function displayHomeTop5(){
  const grid=document.getElementById('homeTop5'); grid.innerHTML='';
  const top5=coinsData.slice(0,5);
  top5.forEach(c=>{
    const change=c.price_change_percentage_24h.toFixed(2);
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name}</div><div class="coin-price">Price: $${c.current_price}</div></div><div class="coin-change ${change>=0?'positive':'negative'}">${change}%</div>`;
    grid.appendChild(card);
  });
}

// =======================
// DASHBOARD & ALERTS
// =======================
function displayDashboard(){
  const dashboard=document.getElementById('dashboardCards'); dashboard.innerHTML='';
  if(coinsData.length===0) return;

  // Top Gainers
  const topGainers=coinsData.slice().sort((a,b)=>b.price_change_percentage_24h-a.price_change_percentage_24h).slice(0,3);
  topGainers.forEach(c=>{
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name} (${c.symbol.toUpperCase()})</div><div class="coin-price">Price: $${c.current_price}</div></div><div class="coin-change positive">+${c.price_change_percentage_24h.toFixed(2)}%</div><div class="dynamic-note">üíπ Gaining Fast</div>`;
    dashboard.appendChild(card);
  });

  // Top Losers
  const topLosers=coinsData.slice().sort((a,b)=>a.price_change_percentage_24h-b.price_change_percentage_24h).slice(0,3);
  topLosers.forEach(c=>{
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${c.image}"><div class="coin-info"><div class="coin-name">${c.name} (${c.symbol.toUpperCase()})</div><div class="coin-price">Price: $${c.current_price}</div></div><div class="coin-change negative">${c.price_change_percentage_24h.toFixed(2)}%</div><div class="dynamic-note">üìâ Dropping Fast</div>`;
    dashboard.appendChild(card);
  });

  // 24h Volume Leader
  const volumeLeader=coinsData.slice().sort((a,b)=>b.total_volume-a.total_volume)[0];
  if(volumeLeader){
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<img src="${volumeLeader.image}"><div class="coin-info"><div class="coin-name">${volumeLeader.name} (${volumeLeader.symbol.toUpperCase()})</div><div class="coin-price">Price: $${volumeLeader.current_price}</div></div><div class="dynamic-note">üí∞ 24h Volume Leader</div>`;
    dashboard.appendChild(card);
  }
}

// =======================
// MARKET STATS ENRICHED
// =======================
function displayMarketStatsRich(btcDominance){
  const marketCards=document.getElementById('marketCards'); marketCards.innerHTML='';

  // KPI Cards
  const totalMarketCap=coinsData.reduce((sum,c)=>sum+c.market_cap,0);
  const totalVolume=coinsData.reduce((sum,c)=>sum+c.total_volume,0);
  const gainersCount=coinsData.filter(c=>c.price_change_percentage_24h>0).length;
  const losersCount=coinsData.filter(c=>c.price_change_percentage_24h<0).length;
  const volumeLeader=coinsData.slice().sort((a,b)=>b.total_volume-a.total_volume)[0];

  const cardsData=[
    {title:'Total Market Cap', value:`$${(totalMarketCap/1e9).toFixed(2)}B`, color:'#ff6a00'},
    {title:'Total 24h Volume', value:`$${(totalVolume/1e9).toFixed(2)}B`, color:'#00ffab'},
    {title:'Gainers', value:`${gainersCount}`, color:'#00ffab'},
    {title:'Losers', value:`${losersCount}`, color:'#ff4d6d'},
    {title:'24h Volume Leader', value:`${volumeLeader.name} ($${(volumeLeader.total_volume/1e6).toFixed(1)}M)`, color:'#ee0979'}
  ];

  cardsData.forEach(c=>{
    const card=document.createElement('div'); card.className='coin-card';
    card.innerHTML=`<div class="coin-info"><div class="coin-name">${c.title}</div><div class="coin-price" style="font-size:1.1rem;color:${c.color};font-weight:bold;">${c.value}</div></div>`;
    marketCards.appendChild(card);
  });

  // Market Cap Chart
  const marketCtx=document.getElementById('marketCapChart').getContext('2d');
  const labels=coinsData.map(c=>c.symbol.toUpperCase());
  const marketCaps=coinsData.map(c=>c.market_cap);
  if(marketCapChart) marketCapChart.destroy();
  marketCapChart=new Chart(marketCtx,{type:'bar',data:{labels,datasets:[{label:'Market Cap USD',data:marketCaps, backgroundColor:'rgba(255,106,0,0.7)'}]},options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{beginAtZero:true}}}});

  // BTC Dominance Chart
  const domCtx=document.getElementById('dominanceChart').getContext('2d');
  const others=100-btcDominance;
  if(dominanceChart) dominanceChart.destroy();
  dominanceChart=new Chart(domCtx,{type:'pie',data:{labels:['BTC','Others'],datasets:[{data:[btcDominance,others],backgroundColor:['#ff6a00','#ee0979']}]},options:{responsive:true}});

  // Top Gainers
  const gainCtx=document.getElementById('gainersChart').getContext('2d');
  const topGainers=coinsData.slice().sort((a,b)=>b.price_change_percentage_24h-a.price_change_percentage_24h).slice(0,5);
  if(gainersChart) gainersChart.destroy();
  gainersChart=new Chart(gainCtx,{type:'bar',data:{labels:topGainers.map(c=>c.symbol.toUpperCase()),datasets:[{label:'Top Gainers %',data:topGainers.map(c=>c.price_change_percentage_24h),backgroundColor:'rgba(0,255,171,0.7)'}]},options:{responsive:true}});

  // Top Losers
  const lossCtx=document.getElementById('losersChart').getContext('2d');
  const topLosers=coinsData.slice().sort((a,b)=>a.price_change_percentage_24h-a.price_change_percentage_24h).slice(0,5);
  if(losersChart) losersChart.destroy();
  losersChart=new Chart(lossCtx,{type:'bar',data:{labels:topLosers.map(c=>c.symbol.toUpperCase()),datasets:[{label:'Top Losers %',data:topLosers.map(c=>c.price_change_percentage_24h),backgroundColor:'rgba(255,77,109,0.7)'}]},options:{responsive:true}});
}

// =======================
// LIVE SEARCH
// =======================
const searchInput=document.getElementById('coinSearchInput');
const searchResults=document.getElementById('searchResults');

searchInput.addEventListener('input',()=>{
  const query=searchInput.value.toLowerCase();
  searchResults.innerHTML='';
  if(!query) return;

  const filtered=coinsData.filter(c=>c.name.toLowerCase().includes(query)||c.symbol.toLowerCase().includes(query));
  if(filtered.length===0){
    searchResults.innerHTML='<p style="color:#fff;text-align:center;">No coins found.</p>';
    return;
  }

  filtered.forEach(c=>{
    const change=c.price_change_percentage_24h.toFixed(2);
    let alertMsg='';
    if(change>=5) alertMsg='üöÄ Price Surge!';
    else if(change <= -5) alertMsg = '‚ö° Price Drop!';
else if(c.total_volume > 1e9) alertMsg = 'üí∞ High Volume';

    const card = document.createElement('div'); 
    card.className = 'coin-card';
    card.innerHTML = `
      <img src="${c.image}">
      <div class="coin-info">
        <div class="coin-name">${c.name} (${c.symbol.toUpperCase()})</div>
        <div class="coin-price">Price: $${c.current_price}</div>
      </div>
      <div class="coin-change ${change>=0?'positive':'negative'}">${change}%</div>
      ${alertMsg ? `<div class="dynamic-note">${alertMsg}</div>` : ''}
    `;
    searchResults.appendChild(card);
  });
});

// =======================
// INITIAL FETCH AND INTERVALS
// =======================
fetchCoins();
setInterval(fetchCoins, 30000); // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÉŸÑ 30 ÿ´ÿßŸÜŸäÿ©
setInterval(() => displayDashboard(), 30000); // ÿ™ÿ≠ÿØŸäÿ´ ŸÑŸàÿ≠ÿ© Dashboard ŸÉŸÑ 30 ÿ´ÿßŸÜŸäÿ©
setInterval(() => {
  // ÿ™ÿ≠ÿØŸäÿ´ Market Stats ŸÖÿπ BTC dominance
  fetch('https://api.coingecko.com/api/v3/global')
    .then(res => res.json())
    .then(globalData => {
      const btcDominance = globalData.data.market_cap_percentage.btc || 65;
      displayMarketStatsRich(btcDominance);
    }).catch(err => console.error(err));
}, 30000);

</script>
</body>
</html>
